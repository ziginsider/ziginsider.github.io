---
layout: post
title: ProgressDialog —É–º–µ—Ä, –¥–∞ –∑–¥—Ä–∞–≤—Å—Ç–≤—É–µ—Ç ProgressBar! 
date: 2017-12-10 19:00
tags:
- Java
- Android
- ProgressDialog
- ProgressBar
- Translate
---
:books: *–í–æ–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç–∞—Ç—å–∏ Ben Daniel A. <a href="https://android.jlelse.eu/farewell-progressdialog-long-live-progressbar-dc767596c98">"Farewell ProgressDialog, Long Live ProgressBar"</a>.*

<br>
–ï—Å–ª–∏ –≤—ã —Ç–∞–∫–æ–π–∂–µ –∫–∞–∫ —è, —Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ progress dialog –ø–æ—á—Ç–∏ –≤ –∫–∞–∂–¥–æ–π —á–∞—Å—Ç–∏ –≤–∞—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ò –ø–æ—ç—Ç–æ–º—É –≤—ã –¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å, —á—Ç–æ –∫–ª–∞—Å—Å ProgressDialog –æ–±—ä—è–≤–ª–µ–Ω –∫–∞–∫ deprecated –≤ API 26. –¢–µ–ø–µ—Ä—å, –ø—Ä–µ–∂–¥–µ —á–µ–º –≤—ã –Ω–∞—á–Ω–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@SuppressWarnings("deprecation")`, –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ—Å—å –∏ –ø–æ–¥—É–º–∞–π—Ç–µ –Ω–∞–¥ —ç—Ç–∏–º. –ß—Ç–æ –ø–æ—Å–ª—É–∂–∏–ª–æ –≥–ª–∞–≤–Ω–æ–π –ø—Ä–∏—á–∏–Ω–æ–π —Ç–æ–≥–æ, —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ Android UX –ø—Ä–∏–Ω—è–ª–∞ —Ä–µ—à–µ–Ω–∏–µ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç ProgressDialog? –ü–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –æ–Ω–∏ –ø—Ä–æ–≤–µ–ª–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ —Ä–µ—à–∏–ª–∏, —á—Ç–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–≤–∫–ª—é—á–∞—è back button), –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ProgressDialog –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, —ç—Ç–æ –Ω–µ —Å–∞–º—ã–π –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ –Ω–∞–º–µ—Ä–µ–Ω–∏—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏ –æ–Ω–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–Ω—É–∂–¥–µ–Ω—ã –∂–¥–∞—Ç—å, –∫–æ–≥–¥–∞ ProgressDialog –∑–∞–≤–µ—Ä—à–∏—Ç —Ä–∞–±–æ—Ç—É, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.

–ù–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –Ω–∞–∑–∞–¥ —è –∑–∞–º–µ—Ç–∏–ª –ø–æ–¥–æ–±–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞ –≤ Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Twitter. –í –ø—Ä–æ—Ü–µ—Å—Å–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–≤–∏—Ç–∞ –Ω–µ—Ç progress dialog. –û–Ω–∏ —Ä–µ—à–∏–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ø–æ—Å–æ–± –ø–æ–∫–∞–∑–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–≤–∏—Ç–∞: –ø–æ–º–µ—Å—Ç–∏–ª–∏ –µ–≥–æ –≤ –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –ø–æ–∫–∞ —Ç–≤–∏—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è. –ï—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É—Å–ø–µ—à–Ω–∞, –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å progress bar –ø—Ä–æ–ø–∞–¥–∞–µ—Ç. –¢–≤–∏—Ç, –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å, –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö, –ø–æ–∑–≤–æ–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–≥–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ.

<img src="{{ site.baseurl }}/images/progressbar/38_1.jpeg">

<br>
–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥, –æ–Ω –ø—Ä–æ—Å—Ç –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è. –û–¥–Ω–∞–∫–æ, —á—Ç–æ —Ä—É—Å—Å–∫–æ–º—É —Ö–æ—Ä–æ—à–æ, —Ç–æ –Ω–µ–º—Ü—É —Å–º–µ—Ä—Ç—å. –ò —ç—Ç–æ –∏ –µ—Å—Ç—å –ø—Ä–∏—á–∏–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π —Ç–∞–∫–∞—è —à—Ç—É–∫–∞ –∫–∞–∫ ProgreesBar –¥–æ–ª–∂–Ω–∞ –±—ã–ª–∞ –ø–æ—è–≤–∏—Ç—å—Å—è. ProgressBar –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –Ω–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç—É –∂–µ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å, —á—Ç–æ –∏ ProgressDialog. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–ø–æ—Å–æ–±–æ–≤ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å progress bar –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∏ —Ñ–æ–Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏. 

–í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –∫—Ä—É–≥–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä—è–¥–æ–º —Å View, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑–≤–∞–ª–∞ —ç—Ç—É –æ–ø–µ—Ä–∞—Ü–∏—é. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å –æ–∫–Ω–æ –≤—Ö–æ–¥–∞, —Ç–æ —Ä—è–¥–æ–º —Å –∫–Ω–æ–ø–∫–æ–π –≤—Ö–æ–¥–∞ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–ª—è—Ç—å—Å—è progress bar, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ–±—â–∞–µ—Ç –æ —Ç–æ–º, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è –≤—Ö–æ–¥–∞. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –¥–ª—è –∏–∑–±–µ–≥–∞–Ω–∏—è —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –∫–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞ –Ω–∞–∂–∏–º–∞–µ—Ç—Å—è –º–Ω–æ–≥–æ —Ä–∞–∑, –≤—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å –µ–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π –≤–æ –≤—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—Ö–æ–¥–∞ –ï—Å–ª–∏ –≤—Ö–æ–¥ –Ω–µ –±—ã–ª —É—Å–ø–µ—à–µ–Ω, —Å–æ–æ–±—â–∏—Ç–µ –æ–± —ç—Ç–æ–º –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫–Ω–æ–ø–∫—É. –ü–æ–¥–æ–±–Ω–æ–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—è RxJava –∏ Android‚Äôs Observable.

–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å progress bar –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –≤–∞—à–µ–≥–æ —ç–∫—Ä–∞–Ω–∞, —ç—Ç–æ –ª–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å, –µ—Å–ª–∏ —É –≤–∞—Å –æ–¥–Ω–∞ Activity –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ Fragment. –ú–∞–∫–µ—Ç Activity –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å progress bar –∏ Fragment –¥–æ–ª–∂–Ω—ã —Å–æ–æ–±—â–∞—Ç—å –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏, —á—Ç–æ–±—ã Activity –ø–æ–ª—É—á–∞–ª–∞ —Å–∏–≥–Ω–∞–ª –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ progress bar (—Ç–∞–∫–∞—è –ª–æ–≥–∏–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ç–∞–∫–∂–µ —Å –ø–æ–º–æ—â—å—é RxJava).

<img src="{{ site.baseurl }}/images/progressbar/38_2.gif">

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ—Å—å —Ç–æ–ª—å–∫–æ —ç—Ç–∏–º–∏ –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏, –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –∫—Ä—É—Ç—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞ progress, –∫–∞–∫ –º—ã –º–æ–≥–ª–∏ –≤–∏–¥–µ—Ç—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Twitter. –¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ Android –ø—Ä–∏–Ω—è–ª —Å–º–µ–ª–æ–µ —Ä–µ—à–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ–±—ã –æ–±—ä—è–≤–∏—Ç—å –∫–ª–∞—Å—Å ProgressDialog deprecated, —è –Ω–∞–¥–µ—é—Å—å, —á—Ç–æ —ç–∫—Å–ø–µ—Ä—Ç—ã UX –ø—Ä–∏–¥—É–º–∞—é—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–ø–æ—Å–æ–±–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å progress bar, –ø–æ–∑–≤–æ–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Ç–æ –∂–µ –≤—Ä–µ–º—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å–æ —Å–≤–æ–∏–º —ç–∫—Ä–∞–Ω–æ–º.

* * *

–ë—ã–≤–∞–µ—Ç –∏ —Ç–∞–∫, —á—Ç–æ –∫–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç progress bar, –º—ã –¥–æ–ª–∂–Ω—ã —Å–¥–µ–ª–∞—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º –æ—Å—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–æ–≤–∞—Ç—å —Ç–∞–∫–æ–π —Ç—Ä—é–∫:

`getWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE,
                           WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);`
                           
–ö–æ–≥–¥–∞ –≤—ã –∑–∞–∫–æ–Ω—á–∏—Ç–µ, –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å —ç—Ç–æ, –∏—Å–ø–æ–ª—å–∑—É—è:
 
`getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);`
 
–ü—Ä–∏—è—Ç–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ üëç.

* * *

<a href="https://stackoverflow.com/questions/45373007/progressdialog-is-deprecated-what-is-the-alternate-one-to-use/45613741#45613741">:green_book: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ</a> –æ ProgressBar.
