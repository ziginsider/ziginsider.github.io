---
layout: post
title: Volley vs Retrofit. Описание библиотек REST API.
date: 2017-07-01 12:40
tags:
- Java
- REST API
- JSON
- Android
- lib
- Volley
- Retrofit
---
## Краткое сревнение. Для чего использовать.
Использовать Retrofit:
- когда нужно стандартная реализаци REST API для парсинга JSON
- реализация без кастомным запросов, запросов с приоритетом, кэширования, повторов etc.

Использовать Volley:
- необычные требования к запросам
- возможно, будет необходимость расширения функциональности вашего REST API в дальнейшем

NB: Если необходимо загружать большие файлы или потоки, то не следует использовать ни то ни другое. Используйте <a href="https://developer.android.com/reference/android/app/DownloadManager.html">Download Manager</a>

## Retrofit
Свойства:
- made in Square
- не поддерживает обработку изображений (хорошо использовать для этого Picasso)
- использует пул потоков, параллельные запросы и библиотеку OkHttp
- приоритезация, отмена, повторные запросы - вручную (в Retrofit 2 немного удобнее)
- полная поддержка POST-запросов и multipart загрузок файлов
- Retofit 2 работает с RxJava проще (with Observable types)

Итак, Retrofit - библиотека REST-клиент для работы в Android.

Подключение: 
{% highlight gridle %}
compile 'com.squareup.retrofit2:retrofit:2.3.0'
{% endhighlight %}



## Volley
Свойства:
- made in Google
- поддерживает минимальный функционал обработки изображений (для более полного функционала, можно использовать Glide)
- использует пул потоков, параллельные запросы и библиотеку OkHttp
- гибкий механизм кеширования (который хорошо подходит для Glide)
- поддерживает выставление приоритетов, отмену запросов, повторные запросы - используя для этого немного кода
- поддерживает POST-запросы (но необходимо конвертировать Java-объекты в JSON-объкты используя, например, библиотеку Gson), также поддерживает multipart загрузки, но, предоставляя большую гибкость, api не такой отполированный, как у Retrofit'а
