---
layout: post
title: Функции как переменные в Питоне. Область видимости переменной. Реализация инкапсуляции переменной в python.
date: 2016-07-04 17:13
tags: 
- python
- примеры
- не моё
---
Реализуем механизм инкапсуляции переменной value:

{% highlight python %}
def cell(value = None):
    def get():
        return value
    def set(update):
        nonlocal value
        value = update
    return get, set
{% endhighlight %}
Теперь помещаем значение переменной с помощью set(значение). И получаем его с помощью get(). При определении функции set(update), value указана как `nonlocal`. Это сделано т.к. в питоне поиск имени переменной, при присваивании, ведётся сначала в локальной, затем в объемлющей функции, затем в глобальной и, наконец, во встроенной. Мы указываем интерпретатору, что он не должен искать value среди локальных переменных, т.е. он будет искать её в объемлющей функции cell().
<br>
<br>
Пример использования:
<br>
{% highlight python %}
>>> get, set = cell()
>>> set(12)
>>> get()
12
>>> set(14)
>>> set(16)
>>> get()
16
>>> get()
16
>>> get()
16
{% endhighlight %}
<br>
<br>
